<main id="cp-main" class="portal-content-area"> 
 <div id="cp-content" class="main-content"> <!-- /CP_PRIMER_HEADER --> 
  <div class="container"> 
   <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["Red Hat AMQ Broker","\/documentation\/en-us\/red_hat_amq_broker"],["7.11","\/documentation\/en-us\/red_hat_amq_broker\/7.11"],["Release Notes for Red Hat AMQ Broker 7.11","\/documentation\/en-us\/red_hat_amq_broker\/7.11\/html\/release_notes_for_red_hat_amq_broker_7.11"],["Release Notes for Red Hat AMQ Broker 7.11","\/documentation\/en-us\/red_hat_amq_broker\/7.11\/html\/release_notes_for_red_hat_amq_broker_7.11\/--single-page-document--"]]</script> 
   <div data-drupal-messages-fallback class="hidden"></div> 
  </div> 
  <div class="container"> 
   <article class="pvof-doc__content-wrapper__outer pvof-doc__content-wrapper__outer--css-not-removed"> 
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script> 
    <div itemscope itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div> 
    <div itemscope itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div> 
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar"> 
     <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav"> 
      <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav"> 
       <div class="j-sidebar__menu-container"> <button class="j-sidebar__menu-trigger content-expander__trigger"> <span class="j-sidebar__menu-trigger__open-text">Jump To</span> <span class="j-sidebar__menu-trigger__close-text">Close</span> </button> 
        <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander"> 
         <div class="j-sidebar__menu-details-container"> <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand"> Expand all </button> <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse"> Collapse all </button> 
         </div> 
         <nav id="pvof-doc__toc" class="pvof-doc__toc"> 
          <h2 class="j-doc-nav__title" id="j-doc-nav__title"> Table of contents </h2> 
          <div class="pvof-doc__toc-inner"> 
           <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title"> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11" class="j-doc-nav__link "> Release Notes for Red Hat AMQ Broker 7.11 </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#making_open_source_more_inclusive" class="j-doc-nav__link "> Making open source more inclusive </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#Long_Term_Support" class="j-doc-nav__link "> 1. Long Term Support for AMQ Broker 7.11 </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#supported_configurations" class="j-doc-nav__link "> 2. Supported Configurations </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#enhancements" class="j-doc-nav__link "> 3. New and Changed Features </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#deprecated_features" class="j-doc-nav__link "> 4. Deprecated features </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#removed_features" class="j-doc-nav__link "> 5. Removed features </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#resolved" class="j-doc-nav__link "> 6. Fixed issues </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#resolved_cves" class="j-doc-nav__link "> 7. Fixed Common Vulnerabilities and Exposures </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#known" class="j-doc-nav__link "> 8. Known issues </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#links" class="j-doc-nav__link "> 9. Important links </a> </li> 
            <li class="j-doc-nav__list-item"> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11#idm139676847644720" class="j-doc-nav__link "> Legal Notice </a> </li> 
           </ol> 
          </div> 
         </nav> 
        </div> 
       </div> 
       <div class="j-options-container j-options-container--mobile"> <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger"> <span class="j-sidebar__menu-trigger__open-headline"> Settings </span> <span class="j-sidebar__menu-trigger__close-text">Close</span> </button> 
        <ul class="j-doc-options__list content-expander"> 
         <li class="j-doc-options__item"> <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language"> Language: </label> <select id="j-doc-language" class="j-doc-option__select"> <option value="/documentation/ko-kr/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 한국어 </option> <option value="/documentation/ja-jp/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 日本語 </option> <option value="/documentation/zh-cn/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 简体中文 </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11" selected> English </option> </select> 
          <noscript> 
           <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
             Language: 
           </div> 
           <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list"> 
            <li> <a href="/documentation/ko-kr/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">한국어</a> </li> 
            <li> <a href="/documentation/ja-jp/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">日本語</a> </li> 
            <li> <a href="/documentation/zh-cn/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">简体中文</a> </li> 
            <li> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">English</a> </li> 
           </ul> 
          </noscript> </li> 
         <li class="j-doc-options__item"> <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format"> Format: </label> <select id="j-doc-mode" class="j-doc-option__select"> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html/release_notes_for_red_hat_amq_broker_7.11" class="j-doc-options__option j-doc-options__option--multi-page"> Multi-page </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11" selected class="j-doc-options__option j-doc-options__option--single-page"> Single-page </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/pdf/release_notes_for_red_hat_amq_broker_7.11/Red_Hat_AMQ_Broker-7.11-Release_Notes_for_Red_Hat_AMQ_Broker_7.11-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf"> PDF </option> </select> 
          <noscript> 
           <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
             Format: 
           </div> 
           <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs"> 
            <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_amq_broker/7.11/html/release_notes_for_red_hat_amq_broker_7.11">Multi-page</a></li> 
            <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">Single-page</a></li> 
            <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_amq_broker/7.11/pdf/release_notes_for_red_hat_amq_broker_7.11/Red_Hat_AMQ_Broker-7.11-Release_Notes_for_Red_Hat_AMQ_Broker_7.11-en-US.pdf">PDF</a></li> 
           </ul> 
          </noscript> </li> 
        </ul> 
       </div> 
      </div> 
      <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar"> 
       <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner"> 
        <div class="j-doc__doc-options"> 
         <div class="j-options-container j-options-container--desktop"> <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger"> <span class="j-sidebar__menu-trigger-icon"></span> <h2 class="visually-hidden">Language and Page Formatting Options</h2> </button> 
          <ul class="j-doc-options__list content-expander"> 
           <li class="j-doc-options__item"> <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2"> Language: </label> <select id="j-doc-language--2" class="j-doc-option__select"> <option value="/documentation/ko-kr/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 한국어 </option> <option value="/documentation/ja-jp/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 日本語 </option> <option value="/documentation/zh-cn/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11"> 简体中文 </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11" selected> English </option> </select> 
            <noscript> 
             <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
               Language: 
             </div> 
             <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list"> 
              <li> <a href="/documentation/ko-kr/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">한국어</a> </li> 
              <li> <a href="/documentation/ja-jp/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">日本語</a> </li> 
              <li> <a href="/documentation/zh-cn/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">简体中文</a> </li> 
              <li> <a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">English</a> </li> 
             </ul> 
            </noscript> </li> 
           <li class="j-doc-options__item"> <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format"> Format: </label> <select id="j-doc-mode--2" class="j-doc-option__select"> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html/release_notes_for_red_hat_amq_broker_7.11" class="j-doc-options__option j-doc-options__option--multi-page"> Multi-page </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11" selected class="j-doc-options__option j-doc-options__option--single-page"> Single-page </option> <option value="/documentation/en-us/red_hat_amq_broker/7.11/pdf/release_notes_for_red_hat_amq_broker_7.11/Red_Hat_AMQ_Broker-7.11-Release_Notes_for_Red_Hat_AMQ_Broker_7.11-en-US.pdf" class="j-doc-options__option j-doc-options__option--pdf"> PDF </option> </select> 
            <noscript> 
             <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
               Format: 
             </div> 
             <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs"> 
              <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/red_hat_amq_broker/7.11/html/release_notes_for_red_hat_amq_broker_7.11">Multi-page</a></li> 
              <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/red_hat_amq_broker/7.11/html-single/release_notes_for_red_hat_amq_broker_7.11">Single-page</a></li> 
              <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/red_hat_amq_broker/7.11/pdf/release_notes_for_red_hat_amq_broker_7.11/Red_Hat_AMQ_Broker-7.11-Release_Notes_for_Red_Hat_AMQ_Broker_7.11-en-US.pdf">PDF</a></li> 
             </ul> 
            </noscript> </li> 
          </ul> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper"> 
       <div class="pane-page-title"> 
        <h1 class="title" itemprop="name">Release Notes for Red Hat AMQ Broker 7.11</h1> 
       </div> 
       <div xml:lang="en-US" class="book" id="idm139676839857696">
        <div class="titlepage">
         <div>
          <div class="producttitle">
           <span class="productname">Red Hat AMQ Broker</span> <span class="productnumber">7.11</span>
          </div>
          <div>
           <h2 class="subtitle">Release Notes for AMQ Broker</h2>
          </div>
          <div>
           <a href="#idm139676847644720">Legal Notice</a>
          </div>
          <div>
           <div class="abstract">
            <p class="title"><strong>Abstract</strong></p>
            <div class="para">
              These release notes contain the latest information about new features, enhancements, fixes, and issues contained in the AMQ Broker 7.11 release. 
            </div>
           </div>
          </div>
         </div>
         <hr>
        </div>
        <section class="preface" id="making_open_source_more_inclusive">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Making open source more inclusive</h1>
           </div>
          </div>
         </div>
         <p> Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright’s message</a>. </p>
        </section>
        <section class="chapter" id="Long_Term_Support">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;1.&nbsp;Long Term Support for AMQ Broker 7.11</h1>
           </div>
          </div>
         </div>
         <p> AMQ Broker 7.11 has been designated as a Long Term Support (LTS) release version. For details of the terms of an LTS release, see <a class="link" href="https://access.redhat.com/solutions/5941551">How long are AMQ LTS releases supported?</a> </p>
         <p> <span class="strong strong"><strong>Support for Red Hat Enterprise Linux and OpenShift Container Platform</strong></span> </p>
         <p> The AMQ Broker 7.11 LTS version supports: </p>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"> Red Hat Enterprise Linux 7 and 8 </li>
           <li class="listitem"> OpenShift Container Platform 4.10, 4.11, 4.12 or 4.13 </li>
          </ul>
         </div>
         <p> Red Hat strives to ensure that AMQ Broker remains compatible with future versions of OpenShift Container Platform; however this compatibility cannot be guaranteed. Interoperability testing is performed for each new OpenShift Container Platform version. If no compatibility issues are found, the new OpenShift Container Platform version is added to the <a class="link" href="https://access.redhat.com/articles/2791941">Red Hat AMQ Broker 7 Supported Configurations</a>. </p>
        </section>
        <section class="chapter" id="supported_configurations">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;2.&nbsp;Supported Configurations</h1>
           </div>
          </div>
         </div>
         <p> For information on supported configurations, see <a class="link" href="https://access.redhat.com/articles/2791941">Red Hat AMQ Broker 7 Supported Configurations</a>. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Minimum Java version</span>
           </dt>
           <dd>
             At a minimum, AMQ Broker 7.11 requires Java version 11 to run. 
           </dd>
           <dt>
            <span class="term">Openwire support</span>
           </dt>
           <dd>
             AMQ 7 Broker has provided support for the Openwire protocol since its release in 2017 as a means to migrate client applications to AMQ 7. With the release of AMQ Broker 7.9.0 in 2021, the Openwire protocol was deprecated and customers were encouraged to migrate their existing Openwire client applications to one of the fully supported protocols of AMQ 7 (CORE, AMQP, MQTT, or STOMP).&nbsp;Starting with the AMQ Broker 7.12.0 release, support for the Openwire protocol will no longer be provided. 
           </dd>
          </dl>
         </div>
        </section>
        <section class="chapter" id="enhancements">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;3.&nbsp;New and Changed Features</h1>
           </div>
          </div>
         </div>
         <p> This section describes a highlighted set of enhancements and new features in AMQ Broker 7.11. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Limiting disk space used for paging</span>
           </dt>
           <dd>
             If you configure AMQ Broker to page messages, you can limit the disk space used to page incoming messages to prevent the paging operation from using excessive disk space. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/configuring_amq_broker//index#proc-br-limiting-disk-usage-per-address-during-paging_configuring">Limiting disk usage during paging for specific addresses</a> in <span class="emphasis"><em>Configuring AMQ Broker</em></span>. 
           </dd>
           <dt>
            <span class="term">Limiting the memory used for messages read from paging</span>
           </dt>
           <dd>
             If you configure AMQ Broker to page messages, you can limit the memory used to store messages that the broker transfers from disk back to memory when clients are ready to consume messages. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/configuring_amq_broker//index#proc-br-controlling-flow-of-paged-messages-into-memory_configuring">Controlling the flow of paged messages into memory</a> in <span class="emphasis"><em>Configuring AMQ Broker</em></span>. 
           </dd>
          </dl>
         </div>
         <div class="admonition important">
          <div class="admonition_header">
           Important
          </div>
          <div>
           <p> If client applications leave too many messages pending acknowledgment, the broker does not read paged messages until the pending messages are acknowledged, which can cause message starvation on the broker. </p>
           <p> For example, if the limit for the transfer of paged messages into memory, which is 20MB by default, is reached, the broker waits for an acknowledgment from a client before it reads any more messages. If, at the same time, clients are waiting to receive sufficient messages before they send an acknowledgment to the broker, which is determined by the batch size used by clients, the broker is starved of messages. </p>
           <p> To avoid starvation, either increase the broker limits that control the transfer of paged message into memory or reduce the number of delivering messages. You can reduce the number of delivering messages by ensuring that clients either commit message acknowledgments sooner or use a timeout and commit acknowledgments when no more messages are received from the broker. </p>
           <p> You can see the number and size of delivering messages in a queue’s <code class="literal">Delivering Count</code> and <code class="literal">Delivering Bytes</code> metrics in AMQ Management Console. </p>
          </div>
         </div>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Log4j 2 logging support</span>
           </dt>
           <dd>
             Starting in 7.11, AMQ Broker uses the Log4j 2 logging utility instead of the JBoss Logging framework to provide message logging. You can customize the Log4j 2 logging configuration on both OpenShift Container Platform and RHEL platforms. 
           </dd>
           <dt>
            <span class="term">Changing the Operator logging level</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, you can change the default logging level to increase or decrease the detail that is written to the Operator logs. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#proc-br-changing-logging-level_broker-ocp">Changing the logging level for the Operator</a> in <span class="emphasis"><em>Deploying AMQ Broker on Openshift</em></span>. 
           </dd>
           <dt>
            <span class="term">Support for Java Authentication and Authorization Service (JAAS) login modules</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, you can configure JAAS login modules in a secret instead of using the ActiveMQArtemisSecurity CR to configure user authentication and authorization for AMQ Broker. By configuring JAAS login modules in a secret, you can update user and role information in properties files without needing to restart the broker. In addition, you can configure login modules, such as LDAP, which are not configurable in the CR. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#proc-br-configuring-default-jaas-login-module-using-the-security-custom-resource_broker-ocp">Configuring JAAS login modules in a secret</a> in <span class="emphasis"><em>Deploying AMQ Broker on Openshift</em></span>. 
           </dd>
           <dt>
            <span class="term">Restricting upgrades</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, the Operator automatically upgrades the broker container images to the latest available version. You can configure the Custom Resource (CR) for your deployment to prevent automatic upgrades or to permit automatic upgrades only to specific versions or to specific broker and init container images. 
           </dd>
          </dl>
         </div>
         <div class="admonition note">
          <div class="admonition_header">
           Note
          </div>
          <div>
           <p> If you want to restrict automatic upgrades, you must specify either the combined <code class="literal">spec.deploymentPlan.image</code> and <code class="literal">spec.deploymentPlan.initImage</code> attributes or the <code class="literal">spec.version</code> attribute, but not both, in the CR. </p>
          </div>
         </div>
         <p> For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#assembly_br-restring-upgrades-operator-based-broker-deployments_broker-ocp">Restricting automatic upgrades</a> in <span class="emphasis"><em>Deploying AMQ Broker on Openshift</em></span>. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Extended status reporting</span>
           </dt>
           <dd>
            <p class="simpara"> In AMQ Broker 7.11 on OpenShift Container Platform, the status information reported by the Operator in the main broker CR is extended to include: </p>
            <div class="itemizedlist">
             <ul class="itemizedlist" type="disc">
              <li class="listitem"> The validity of the content of the CR. </li>
              <li class="listitem"> The application of properties configured in the <code class="literal">brokerProperties</code> attribute. </li>
              <li class="listitem"> The propagation of Java Authentication and Authorization Service (JAAS) login module files in a secret to the broker Pods. </li>
              <li class="listitem"> The version of the broker that is deployed and the URLs of the broker and init container images for that version. </li>
              <li class="listitem"> The ability to apply major, minor, patch and security upgrades to the deployment. </li>
             </ul>
            </div>
           </dd>
           <dt>
            <span class="term">Synchronous mirroring support</span>
           </dt>
           <dd>
             Starting in 7.11, you can configure synchronous mirroring between brokers to ensure that messages are written to the volumes of both brokers in the mirror at the same time. By using synchronous mirroring, you ensure that the mirrored broker is up-to-date for disaster recovery. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/configuring_amq_broker//index#proc-br-configuring-broker-connections_configuring">Configuring broker connections</a> in <span class="emphasis"><em>Configuring AMQ Broker</em></span>. 
           </dd>
           <dt>
            <span class="term">Pod disruption budget</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, you can configure a Pod disruption budget to specify the minimum number of Pods in a cluster that must be available simultaneously during a voluntary disruption, such as a maintenance window. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#proc-br-configuring-pod-disruption-budget_broker-ocp">Configuring a Pod disruption budget</a> in <span class="emphasis"><em>Deploying AMQ Broker on OpenShift</em></span>. 
           </dd>
           <dt>
            <span class="term">brokerProperties configuration is stored in a mutable secret</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, the configuration created by using the <code class="literal">brokerProperties</code> attribute in the CR is stored in a mutable secret. A mutable secret can be updated without requiring a broker restart. Therefore, configuration updates are applied when the broker reloads the configuration periodically, apart from any update that specifically requires a broker restart. 
           </dd>
           <dt>
            <span class="term">Operations to control the embedded web server</span>
           </dt>
           <dd>
             Starting in 7.11, you can stop and restart the embedded web server for AMQ Broker by using the <code class="literal">stopEmbeddedWebServer</code>, <code class="literal">startEmbeddedWebServer</code> and <code class="literal">restartEmbeddedWebServer</code> operations on the ActiveMQServerControl JMX MBean. By using these operations, you can avoid restarting AMQ Broker if, for example, you renew the SSL certificate for AMQ Broker. 
           </dd>
           <dt>
            <span class="term">The credentials used to log in to AMQ Management Console are used to send messages</span>
           </dt>
           <dd>
            <p class="simpara"> In previous versions of AMQ Broker, it was necessary to specify a username and password in the AMQ Management Console <span class="strong strong"><strong>Preferences</strong></span> page in order to send messages in AMQ Management Console. Starting in 7.11, messages are sent using the credentials that you use to log in to AMQ Management Console. </p>
            <p class="simpara"> You can override the default behavior and specify different credentials to send individual messages. For more information, see, <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/managing_amq_broker//index#sending-messages-address-managing">Sending messages to an address</a> in <span class="emphasis"><em>Managing AMQ Broker</em></span>. </p>
           </dd>
           <dt>
            <span class="term">AMQ Broker on OpenShift Container Platform is preconfigured to collect metric data for Prometheus</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, the AMQ Broker container Pods are preconfigured to allow the Prometheus Operator Service Monitor to collect metric data. In previous releases, you needed to expose the port required by Service Monitor to collect metric data. 
           </dd>
           <dt>
            <span class="term">Setting environment variables for broker containers</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, you can set environment variables in a Custom Resource (CR) that are passed to each broker container. For example, you can add the <code class="literal">TZ</code> environment variable to set the timezone of the broker container. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#proc-br-setting-environment-variables_broker-container_broker-ocp">Setting environment variables for broker containers</a> in <span class="emphasis"><em>Deploying AMQ Broker on OpenShift</em></span>. 
           </dd>
           <dt>
            <span class="term">Proxy forwarding support on OpenShift Container Platform</span>
           </dt>
           <dd>
             In AMQ Broker 7.11 on OpenShift Container Platform, the embedded web server, which hosts AMQ Management Console, is preconfigured to handle X-Forwarded headers. By handling X-Forwarded headers, AMQ Management Console can receive header information that is otherwise altered or lost when a proxy is involved in the path of a request. For example, AMQ Management Console uses HTTP but the OpenShift Container Platform router, which is a proxy, exposes AMQ Management Console using a HTTPS route that terminates at the router. From the X-Forwarded header, AMQ Management Console can identify that the connection between the browser and the router uses HTTPS and switch to HTTPS to serve browser requests. 
           </dd>
           <dt>
            <span class="term">Some redelivery attributes are supported only in the <code class="literal">brokerProperties</code> CR attribute</span>
           </dt>
           <dd>
            <p class="simpara"> If a 7.8.x or 7.9.x deployment has the <code class="literal">redeliveryDelayMultiplier</code> or the <code class="literal">redeliveryCollisionAvoidanceFactor</code> attributes configured in the <code class="literal">spec.deploymentPlan.addressSettings.addressSetting</code> CR element, you must configure these attributes in the <code class="literal">brokerProperties</code> CR attribute after you upgrade to 7.11.x. This is required because the data type of both attributes changed from float to string in 7.10.0. As a result, these attributes are no longer supported in the <code class="literal">spec.deploymentPlan.addressSettings.addressSetting</code> attribute. </p>
            <p class="simpara"> The following example shows how to configure both attributes in the <code class="literal">brokerProperties</code> element: </p>
            <pre class="programlisting language-yaml">spec:
  ...
  brokerProperties:
  - "addressSettings.#.redeliveryMultiplier=2.1"
  - "addressSettings.#.redeliveryCollisionAvoidanceFactor=1.2"
  ...</pre>
            <div class="admonition note">
             <div class="admonition_header">
              Note
             </div>
             <div>
              <p> In the <code class="literal">brokerProperties</code> attribute, use the <code class="literal">redeliveryMultiplier</code> attribute name instead of the <code class="literal">redeliveryDelayMultiplier</code> attribute name that was used in the <code class="literal">spec.deploymentPlan.addressSettings.addressSetting</code> element. </p>
             </div>
            </div>
           </dd>
           <dt>
            <span class="term">Disabling XML External Entity (XXE) processing</span>
           </dt>
           <dd>
             If you don’t need to modularize your broker configuration in separate files that are included in the <code class="literal">broker.xml</code> file, you can now disable XXE processing to protect against XXE security vulnerabilities. Where possible, Red Hat recommends that you disable XXE processing. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/configuring_amq_broker//index#disabling-external-xml-entity-processing_{context}">Disabling External XML Entity (XXE) processing</a> in <span class="emphasis"><em>Configuring AMQ Broker</em></span>. 
           </dd>
           <dt>
            <span class="term">JGroups 5.x</span>
           </dt>
           <dd>
             Versions of AMQ Broker before 7.10.0 used JGroups 3.x. AMQ Broker 7.11 uses JGroups 5.x which is not backwardly compatible with JGroups 3.x. Some protocols and protocol properties changed between the two JGroup versions, so you may have to change the JGroups stack configuration when you upgrade to AMQ Broker 7.11. 
           </dd>
           <dt>
            <span class="term">Contents of AMQ Broker archive extracted to a specific directory name</span>
           </dt>
           <dd>
             When you extract the AMQ Broker archive on Red Hat Enterprise Linux, the contents of the archive are extracted to a directory called <code class="literal">apache-artemis-2.28.0.redhat-00004</code> in your current directory. 
           </dd>
           <dt>
            <span class="term">Operator channels</span>
           </dt>
           <dd>
            <p class="simpara"> The AMQ Broker Operator, <code class="literal">Red Hat Integration - AMQ Broker for RHEL 8 (Multiarch)</code>, is available with the following channels: </p>
            <div class="itemizedlist">
             <ul class="itemizedlist" type="disc">
              <li class="listitem"> <code class="literal">7.11.x</code> - This channel provides updates for version 7.11 only and is a Long Term Support (LTS) channel. </li>
              <li class="listitem"> <code class="literal">7.10.x</code> - This channel provides updates for version 7.10 only and is a Long Term Support (LTS) channel. </li>
             </ul>
            </div>
           </dd>
          </dl>
         </div>
         <div class="admonition note">
          <div class="admonition_header">
           Note
          </div>
          <div>
           <p> It is not possible to upgrade the Operator by switching channels. You must uninstall the existing Operator and install the new version of the Operator from the appropriate channel. </p>
          </div>
         </div>
         <p> To determine which Operator to choose, see the <a class="link" href="https://access.redhat.com/support/policy/rhel-container-compatibility">Red Hat Enterprise Linux Container Compatibility Matrix</a>. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Change to class name of the Prometheus metrics plugin</span>
           </dt>
           <dd>
             In AMQ Broker 7.11, the class name of the Prometheus metrics plugin that is included with AMQ Broker changed from <code class="literal">org.apache.activemq.artemis.core.server.metrics.plugins.ArtemisPrometheusMetricsPlugin</code> to <code class="literal">com.redhat.amq.broker.core.server.metrics.plugins.ArtemisPrometheusMetricsPlugin</code>. If the Prometheus metrics plugin is enabled in a previous version of AMQ Broker, you must update the class name in the <code class="literal">broker.xml</code> configuration file when you upgrade to AMQ Broker 7.11. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/managing_amq_broker//index#upgrading_7.11_amq">Upgrading a broker instance from 7.10.x to 7.11.x</a> in <span class="emphasis"><em>Managing AMQ Broker</em></span>. 
           </dd>
           <dt>
            <span class="term">Changes to the data returned by the listProducers API method and the listProducersInfoAsJSON JMX method</span>
           </dt>
           <dd>
            <p class="simpara"> In AMQ Broker 7.11, the following are enhancements to how data is returned by the <code class="literal">listProducers</code> method, which is used by AMQ Management Console: </p>
            <div class="itemizedlist">
             <ul class="itemizedlist" type="disc">
              <li class="listitem"> In the data returned in previous versions, a producer was displayed per-session. Therefore, if you created a producer using the Core protocol, which creates two sessions per-producer, separate producers are shown for each of the two sessions. Also, if you created a producer without sending messages from the producer, the address returned for the producer was empty. In AMQ Broker 7.11, the <code class="literal">listProducers method</code> returns a single producer for the two sessions created by the Core protocol. In addition, the address column shows the correct address, even before you send messages. </li>
              <li class="listitem"> Previously, when you used an anonymous producer to send messages to multiple addresses using the Core or AMQP protocols a producer was displayed for each address. In addition, the address shown was for the first address to which the producer sent the message, which made it appear like a normal producer sending to a single queue. In AMQ Broker 7.11, when you use an anonymous producer to send messages to multiple addresses, a single producer is displayed for each anonymous producer. In addition, the address is not connected to a specific address and has a value of <code class="literal">ANONYMOUS</code>. </li>
             </ul>
            </div>
            <p class="simpara"> Previously, the <code class="literal">listProducersInfoAsJSON</code> method provided a count of messages sent to each queue by a particular session. However, this method incorrectly returned a producer for each queue that a message was sent to. For example, if an anonymous producer sent a message to 1000 queues, this method returned 1000 producers. In AMQ Broker 7.11, the <code class="literal">listProducersInfoAsJSON</code> method now returns accurately the same data as the <code class="literal">listProducers</code> method, but in a different format. </p>
            <p class="simpara"> In AMQ Broker 7.11, the following new metric data is returned: </p>
            <p class="simpara"> <span class="strong strong"><strong>Consumers</strong></span> </p>
            <p class="simpara"> <code class="literal">messagesInTransit</code> - The number of messages for delivery which have not yet been acknowledged </p>
            <p class="simpara"> <code class="literal">messagesInTransitSize</code> - The total size of messages for delivery which have not yet been acknowledged </p>
            <p class="simpara"> <code class="literal">messagesDelivered</code> - The number of messages delivered </p>
            <p class="simpara"> <code class="literal">messagesDeliveredSize</code> - The total size of messages delivered </p>
            <p class="simpara"> <code class="literal">messagesAcknowledged</code> - The total number of messages acknowledged </p>
            <p class="simpara"> <code class="literal">messagesAcknowledgedAwaitingCommit</code> - The total number of messages in a transaction that are acknowledged but awaiting a commit </p>
            <p class="simpara"> <code class="literal">lastDeliveredTime</code> - The time in milliseconds of the last message delivered </p>
            <p class="simpara"> <code class="literal">lastAcknowledgedTime</code> - The time in milliseconds of the last message acknowledged </p>
            <p class="simpara"> <span class="strong strong"><strong>Producers</strong></span> </p>
            <p class="simpara"> <code class="literal">msgSent</code> - The number of messages sent by a producer </p>
            <p class="simpara"> <code class="literal">msgSizeSent</code> - The total size of messages sent by a producer </p>
            <p class="simpara"> <code class="literal">lastProducedMessageID</code> - The ID of the last message sent </p>
           </dd>
          </dl>
         </div>
        </section>
        <section class="chapter" id="deprecated_features">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;4.&nbsp;Deprecated features</h1>
           </div>
          </div>
         </div>
         <p> This section describes features that are supported, but have been deprecated from AMQ Broker. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term"><code class="literal">upgrade</code> attribute in Custom Resource</span>
           </dt>
           <dd>
             Starting in 7.11, the <code class="literal">upgrade</code> attribute and the associated <code class="literal">enabled</code> and <code class="literal">minor</code> attributes are deprecated because they cannot work as originally designed. Use the <code class="literal">image</code> or <code class="literal">version</code> attributes to deploy specific broker container images. 
           </dd>
           <dt>
            <span class="term"><code class="literal">queues</code> configuration element</span>
           </dt>
           <dd>
             Starting in 7.10, the &lt;queues&gt; configuration element is deprecated. You can use the &lt;addresses&gt; configuration element to create addresses and associated queues. The &lt;queues&gt; configuration element will be removed in a future release. 
           </dd>
           <dt>
            <span class="term">getAddressesSettings method</span>
           </dt>
           <dd>
             Starting in 7.10, the get<span class="strong strong"><strong>Addresses</strong></span>Settings method, which is included in the org.apache.activemq.artemis.core.config.Configuration interface, is deprecated. Use the get<span class="strong strong"><strong>Address</strong></span>Settings method to configure addresses and queues for the broker programatically. 
           </dd>
           <dt>
            <span class="term">OpenWire protocol</span>
           </dt>
           <dd>
             Starting in 7.9, the OpenWire protocol is a deprecated feature. If you are creating a new AMQ Broker-based system, use one of the other supported protocols. This feature will be removed in 7.12. 
           </dd>
           <dt>
            <span class="term">Adding users when broker instance is not running</span>
           </dt>
           <dd>
             Starting in 7.8, when an AMQ Broker instance is not running, the ability to add users to the broker from the CLI interface is removed. 
           </dd>
           <dt>
            <span class="term">Network pinger</span>
           </dt>
           <dd>
             Starting in 7.5, network pinging is a deprecated feature. Network pinging cannot protect a broker cluster from network isolation issues that can lead to irrecoverable message loss. This feature will be removed in a future release. Red Hat continues to support existing AMQ Broker deployments that use network pinging. However, Red Hat no longer recommends use of network pinging in new deployments. For guidance on configuring a broker cluster for high availability and to avoid network isolation issues, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/configuring_amq_broker//index#implementing-high-availability-configuring">Implementing high availability</a> in <span class="emphasis"><em>Configuring AMQ Broker</em></span>. 
           </dd>
           <dt>
            <span class="term">Hawtio dispatch console plugin</span>
           </dt>
           <dd>
             Starting in 7.3, AMQ Broker no longer ships with the Hawtio dispatch console plugin, <code class="literal">dispatch-hawtio-console.war</code>. Previously, the dispatch console was used to manage AMQ Interconnect. However, AMQ Interconnect now uses its own, standalone web console. 
           </dd>
          </dl>
         </div>
        </section>
        <section class="chapter" id="removed_features">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;5.&nbsp;Removed features</h1>
           </div>
          </div>
         </div>
         <p> This section describes features and functionality that have been removed from AMQ Broker. </p>
         <div class="variablelist">
          <dl class="variablelist">
           <dt>
            <span class="term">Access to the root of the AMQ Broker web server</span>
           </dt>
           <dd>
             In previous versions of AMQ Broker, opening the root URL of the AMQ Broker web server, for example, <a class="link" href="http://localhost:8161/">http://localhost:8161/</a>, in a browser window displays a landing page. The landing page has links to AMQ Management Console and AMQ Broker documentation. In 7.11, all static HTML content is removed from AMQ Broker. Therefore, if you open the root URL of the AMQ Broker web server, a landing page is not displayed. Instead, your browser session is automatically redirected to AMQ Management Console. 
           </dd>
          </dl>
         </div>
        </section>
        <section class="chapter" id="resolved">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;6.&nbsp;Fixed issues</h1>
           </div>
          </div>
         </div>
         <p> For a complete list of issues that have been fixed in the release, see <a class="link" href="https://issues.redhat.com/issues/?filter=12412692">AMQ Broker 7.11.0 Fixed Issues</a> and see <a class="link" href="https://access.redhat.com/articles/7020935">AMQ Broker - 7.11.x Resolved Issues</a> for a list of issues that have been fixed in patch releases. </p>
        </section>
        <section class="chapter" id="resolved_cves">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;7.&nbsp;Fixed Common Vulnerabilities and Exposures</h1>
           </div>
          </div>
         </div>
         <p> This section details Common Vulnerabilities and Exposures (CVEs) fixed in the AMQ Broker 7.11 release. </p>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-6630">ENTMQBR-6630</a> - CVE-2022-1278 WildFly: possible information disclosure</strong></span> </li>
           <li class="listitem"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7397">ENTMQBR-7397</a> - CVE-2022-22970 springframework: DoS via data binding to multipartFile or servlet part</strong></span> </li>
           <li class="listitem"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7398">ENTMQBR-7398</a> - CVE-2022-22971 springframework: DoS with STOMP over WebSocket</strong></span> </li>
           <li class="listitem"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7005">ENTMQBR-7005</a> - CVE-2022-2047 jetty-http: improver hostname input handling</strong></span> </li>
           <li class="listitem"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7640">ENTMQBR-7640</a> - CVE-2022-3782 keycloak: path traversal via double URL encoding</strong></span> </li>
          </ul>
         </div>
        </section>
        <section class="chapter" id="known">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;8.&nbsp;Known issues</h1>
           </div>
          </div>
         </div>
         <p> This section describes known issues in AMQ Broker 7.11. </p>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-8166">ENTMQBR-8166</a> - Self-signed certificate with UseClientAuth=true prevents communication of Operator with Jolokia</strong></span> </p><p class="simpara"> If the <code class="literal">useClientAuth</code> attribute is set to <code class="literal">true</code> in the <code class="literal">console</code> section of the <code class="literal">ActiveMQ Artemis</code> CR, the Operator is unable to configure certain features, for example, create addresses, on the broker. In the Operator log, you see an error message that ends with <code class="literal">remote error: tls: bad certificate</code>. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7385">ENTMQBR-7385</a> - Message flops around the federation queue on slow consumers</strong></span> </p><p class="simpara"> If the local application consumers are very slow or unable to consume message, a message can be sent back-and-forth over a federated connection a large number of times before it is finally consumed by an application consumer. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-7820">ENTMQBR-7820</a> - [Operator] Supported versions listed in 7.11.0 OPR1 operator log are incorrect</strong></span> </p><p class="simpara"> The Operator logs lists support for the following AMQ Broker image versions : 7.10.0 7.10.1 7.10.2 7.11.0 7.8.1 7.8.2 7.8.3 7.9.0 7.9.1 7.9.2 7.9.3 7.9.4. The Operator actually supports AMQ Broker image versions beginning with 7.10.0. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-7359">ENTMQBR-7359</a> - Change to current handling of credential secret with 7.10.0 Operator</strong></span> </p><p class="simpara"> The Operator stores the administrator username and password for connecting to the broker in a secret. The default secret name is in the form <code class="literal"><span class="emphasis"><em>&lt;custom-resource-name&gt;</em></span>-credentials-secret</code>. You can create a secret manually or allow the Operator to create a secret. </p><p class="simpara"> If the <code class="literal">adminUser</code> and <code class="literal">adminPassword</code> attributes are configured in a Custom Resource prior to 7.10.0, the Operator updates a manually-created secret with the values of these attributes. Starting in 7.10.0, the Operator no longer updates a secret that was created manually. Therefore, if you change the values of the <code class="literal">adminUser</code> and <code class="literal">adminPassword</code> attributes in the CR, you must either: </p></li>
           <li class="listitem"> Update the secret with the new username and password </li>
           <li class="listitem"> Delete the secret and allow the Operator to create a secret. When the Operator creates a secret, it adds the values of the <code class="literal">adminUser</code> and <code class="literal">adminPassword</code> attributes if these are specified in the CR. If these attributes are not in the CR, the Operator generates random credentials for the secret. </li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-7111">ENTMQBR-7111</a> - 7.10 versions of operator tend to remove StatefulSet during upgrade</strong></span> </p><p class="simpara"> If you are upgrading to or from AMQ Broker Operator 7.10.0, the new Operator automatically deletes the existing StatefulSet for each deployment during the reconciliation process. When the Operator deletes the StatefulSet, the existing broker pods are deleted, which causes a temporary broker outage. </p><p class="simpara"> You can work around this issue by running the following command to manually delete the StatefulSet and orphan the running pods before the Operator gets to delete the StatefulSet: oc delete statefulset <span class="emphasis"><em>&lt;statefulset-name&gt;</em></span> --cascade=orphan </p><p class="simpara"> Manually deleting the StatefulSet during the upgrade process allows the new Operator to reconcile the StatefulSet without deleting the running pods. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift//index#assembly-br-upgrading-operator-operatorhub_broker-ocp">Upgrading the Operator using OperatorHub</a> in <span class="emphasis"><em>Deploying AMQ Broker on OpenShift</em></span>. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-6473">ENTMQBR-6473</a> - Incompatible configuration due to schema URL change</strong></span> </p><p class="simpara"> When you try to use a broker instance configuration from a previous release with a version 7.9 or 7.10 instance, an incompatible configuration as a result of a schema URL change causes the broker to crash. To work around this issue, update the schema URL in the relevant configuration files as outlined in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/managing_amq_broker//index#proc-br-broker-upgrade-7.10-linux.adoc">Upgrading from 7.9.0 to 7.10.0 on Linux</a>. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-4813">ENTMQBR-4813</a> AsynchronousCloseException with large messages and multiple C++ subscribers</strong></span> </p><p class="simpara"> If multiple C++ Publisher clients that uses the AMQP protocol are running on the same host as subscribers and the broker, and a publisher sends a large message, one of the subscribers crashes. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-5749">ENTMQBR-5749</a> - Remove unsupported operators that are visible in OperatorHub</strong></span> </p><p class="simpara"> Only the Operators and Operator channels mentioned in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.11/html-single/deploying_amq_broker_on_openshift/#proc-br-installing-operator-to-project-from-operatorhub_broker-ocp">Deploying the Operator from OperatorHub</a> are supported. For technical reasons associated with Operator publication, other Operator and channels are visible in the OperatorHub and should be ignored. For reference, the following list shows which Operators are visible, but not supported: </p>
            <div class="itemizedlist">
             <ul class="itemizedlist" type="circle">
              <li class="listitem"> Red Hat Integration - AMQ Broker LTS - all channels </li>
              <li class="listitem"> Red Hat Integration - AMQ Broker - alpha, current, and current-76 </li>
             </ul>
            </div></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-569">ENTMQBR-569</a> - Conversion of IDs from OpenWire to AMQP results in sending IDs as binary</strong></span> </p><p class="simpara"> When communicating cross-protocol from an A-MQ 6 OpenWire client to an AMQP client, additional information is encoded in the application message properties. This is benign information used internally by the broker and can be ignored. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-655">ENTMQBR-655</a> - [AMQP] Unable to send message when <code class="literal">populate-validated-user</code> is enabled</strong></span> </p><p class="simpara"> The configuration option <code class="literal">populate-validated-user</code> is not supported for messages produced using the AMQP protocol. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-1875">ENTMQBR-1875</a> - [AMQ 7, ha, replicated store] backup broker appear not to go "live" or shutdown after - ActiveMQIllegalStateException errorType=ILLEGAL_STATE message=AMQ119026: Backup Server was not yet in sync with live</strong></span> </p><p class="simpara"> Removing the paging disk of a primary broker while a backup broker is trying to sync with the primary broker causes the primary to fail. In addition, the backup broker cannot become live because it continues trying to sync with the primary broker. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.redhat.com/browse/ENTMQBR-2068">ENTMQBR-2068</a> - some messages received but not delivered during HA fail-over, fail-back scenario</strong></span> </p><p class="simpara"> Currently, if a broker fails over to its backup while an OpenWire client is sending messages, messages being delivered to the broker when failover occurs could be lost. To work around this issue, ensure that the broker persists the messages before acknowledging them. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-3331">ENTMQBR-3331</a> - Stateful set controller can’t recover from CreateContainerError, blocking the operator</strong></span> </p><p class="simpara"> If the AMQ Broker Operator creates a stateful set from a Custom Resource (CR) that has a configuration error, the stateful set controller is unable to roll out the updated stateful set when the error is resolved. </p><p class="simpara"> For example, a misspelling in the value of the <code class="literal">image</code> attribute in your main broker CR causes the status of the first Pod created by the stateful set controller to remain <code class="literal">Pending</code>. If you then fix the misspelling and apply the CR changes, the AMQ Broker Operator updates the stateful set. However, a Kubernetes known issue prevents the stateful set controller from rolling out the updated stateful set. The controller waits indefinitely for the Pod that has a <code class="literal">Pending</code> status to become <code class="literal">Ready</code>, so the new Pods are not deployed. </p><p class="simpara"> To work around this issue, you must delete the Pod that has a <code class="literal">Pending</code> status to allow the stateful set controller to deploy the new Pods. To check which Pod has a <code class="literal">Pending</code> status, use the following command: <code class="literal">oc get pods --field-selector=status.phase=Pending</code>. To delete a Pod, use the <code class="literal">oc delete pod &lt;pod name&gt;</code> command. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-3846">ENTMQBR-3846</a> - MQTT client does not reconnect on broker restart</strong></span> </p><p class="simpara"> When you restart a broker, or a broker fails over, the active broker does not restore connections for previously-connected MQTT clients. To work around this issue, to reconnect an MQTT client, you need to manually call the <code class="literal">subscribe()</code> method on the client. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-4127">ENTMQBR-4127</a> - AMQ Broker Operator: Route name generated by Operator might be too long for OpenShift</strong></span> </p><p class="simpara"> For each broker Pod in an Operator-based deployment, the default name of the Route that the Operator creates for access to the AMQ Broker management console includes the name of the Custom Resource (CR) instance, the name of the OpenShift project, and the name of the OpenShift cluster. For example, <code class="literal">my-broker-deployment-wconsj-0-svc-rte-my-openshift-project.my-openshift-domain</code>. If some of these names are long, the default Route name might exceed the limit of 63 characters that OpenShift enforces. In this case, in the OpenShift Container Platform web console, the Route shows a status of <code class="literal">Rejected</code>. </p><p class="simpara"> To work around this issue, use the OpenShift Container Platform web console to manually edit the name of the Route. In the console, click the Route. On the <span class="strong strong"><strong>Actions</strong></span> drop-down menu in the top-right corner, select <code class="literal">Edit Route</code>. In the YAML editor, find the <code class="literal">spec.host</code> property and edit the value. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-4140">ENTMQBR-4140</a> - AMQ Broker Operator: Installation becomes unusable if <code class="literal">storage.size</code> is improperly specified</strong></span> </p><p class="simpara"> If you configure the <code class="literal">storage.size</code> property of a Custom Resource (CR) instance to specify the size of the Persistent Volume Claim (PVC) required by brokers in a deployment for persistent storage, the Operator installation becomes unusable if you do not specify this value properly. For example, suppose that you set the value of <code class="literal">storage.size</code> to <code class="literal">1</code> (that is, without specifying a unit). In this case, the Operator cannot use the CR to create a broker deployment. In addition, even if you remove the CR and deploy a new version with <code class="literal">storage.size</code> specified correctly, the Operator still cannot use this CR to create a deployment as expected. </p><p class="simpara"> To work around this issue, first stop the Operator. In the OpenShift Container Platform web console, click <span class="strong strong"><strong>Deployments</strong></span>. For the Pod that corresponds to the AMQ Broker Operator, click the <span class="strong strong"><strong>More options</strong></span> menu (three vertical dots). Click <span class="strong strong"><strong>Edit Pod Count</strong></span> and set the value to <code class="literal">0</code>. When the Operator Pod has stopped, create a new version of the CR with <code class="literal">storage.size</code> correctly specified. Then, to restart the Operator, click <span class="strong strong"><strong>Edit Pod Count</strong></span> again and set the value back to <code class="literal">1</code>. </p></li>
          </ul>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"><p class="simpara"> <span class="strong strong"><strong><a class="link" href="https://issues.jboss.org/browse/ENTMQBR-4141">ENTMQBR-4141</a> - AMQ Broker Operator: Increasing Persistent Volume size requires manual involvement even after recreating Stateful Set</strong></span> </p><p class="simpara"> If you try to increase the size of the Persistent Volume Claim (PVC) required by brokers in a deployment for persistent storage, the change does not take effect without further manual steps. For example, suppose that you configure the <code class="literal">storage.size</code> property of a Custom Resource (CR) instance to specify an initial size for the PVC. If you modify the CR to specify a <span class="emphasis"><em>different</em></span> value of <code class="literal">storage.size</code>, the existing brokers continue to use the original PVC size. This is the case even if you scale the deployment down to zero brokers and then back up to the original number. However, if you scale the size of the deployment up to add additional brokers, the new brokers use the new PVC size. </p><p class="simpara"> To work around this issue, and ensure that all brokers in the deployment use the same PVC size, use the OpenShift Container Platform web console to expand the PVC size used by the deployment. In the console, click <span class="guimenu">Storage</span> → <span class="guimenuitem">Persistent Volume Claims</span>. Click your deployment. On the <span class="strong strong"><strong>Actions</strong></span> drop-down menu in the top-right corner, select <code class="literal">Expand PVC</code> and enter a new value. </p></li>
          </ul>
         </div>
        </section>
        <section class="chapter" id="links">
         <div class="titlepage">
          <div>
           <div>
            <h1 class="title">Chapter&nbsp;9.&nbsp;Important links</h1>
           </div>
          </div>
         </div>
         <div class="itemizedlist">
          <ul class="itemizedlist" type="disc">
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq_broker/7.10/html/release_notes_for_red_hat_amq_broker_7.10/index">Red Hat AMQ Broker 7.10 Release Notes</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/2021.q3/html-single/release_notes_for_red_hat_amq_broker_7.9/index">Red Hat AMQ Broker 7.9 Release Notes</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/2020.q4/html-single/release_notes_for_red_hat_amq_broker_7.8/index">Red Hat AMQ Broker 7.8 Release Notes</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/7.7/html/release_notes_for_red_hat_amq_broker_7.7/index/">Red Hat AMQ Broker 7.7 Release Notes</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/7.6/html/release_notes_for_red_hat_amq_broker_7.6/index/">Red Hat AMQ Broker 7.6 Release Notes</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/7.5/html/release_notes_for_red_hat_amq_broker_7.5/index/">Red Hat AMQ Broker 7.1 to 7.5 Release Notes (aggregated)</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/articles/2791941">Red Hat AMQ 7 Supported Configurations</a> </li>
           <li class="listitem"> <a class="link" href="https://access.redhat.com/articles/3188232">Red Hat AMQ 7 Component Details</a> </li>
          </ul>
         </div>
         <p> <span class="emphasis"><em>Revised on 2023-08-24 12:10:02 UTC</em></span> </p>
        </section>
        <div>
         <div xml:lang="en-US" class="legalnotice" id="idm139676847644720">
          <h1 class="legalnotice">Legal Notice</h1>
          <div class="para">
            Copyright <span class="trademark"><!--Empty--></span>© 2023 Red Hat, Inc. 
          </div>
          <div class="para">
            The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version. 
          </div>
          <div class="para">
            Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law. 
          </div>
          <div class="para">
            Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries. 
          </div>
          <div class="para"> <span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries. 
          </div>
          <div class="para"> <span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates. 
          </div>
          <div class="para"> <span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries. 
          </div>
          <div class="para"> <span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries. 
          </div>
          <div class="para"> <span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project. 
          </div>
          <div class="para">
            The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community. 
          </div>
          <div class="para">
            All other trademarks are the property of their respective owners. 
          </div>
         </div>
        </div>
       </div> 
       <nav class="pvof-doc__book-nav"> 
        <ol class="book-nav__list"> 
        </ol> 
       </nav> 
      </div> 
     </div> 
     <div id="comments-footer" class="book-comments"> 
     </div> 
    </div> 
   </article> 
   <meta itemscope itemref="md1"> 
  </div> <!-- CP_PRIMER_FOOTER --> 
 </div> 
</main>
